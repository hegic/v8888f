"use strict";(self.webpackChunkhedge=self.webpackChunkhedge||[]).push([[8385,9137],{48385:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "strategyController": () => (/* binding */ strategyController),\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(95129);\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(21046);\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(2262);\n/* harmony import */ var _deployments_42161_USDC_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(39137);\n/* harmony import */ var _deployments_42161_HegicStrategySTRADDLE_ETH_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(49778);\n/* harmony import */ var _deployments_42161_HegicStrategySTRADDLE_BTC_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(52536);\n/* harmony import */ var _deployments_42161_HegicStrategySTRIP_ETH_json__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(42194);\n/* harmony import */ var _deployments_42161_HegicStrategySTRIP_BTC_json__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(66558);\n/* harmony import */ var _deployments_42161_HegicStrategySTRAP_ETH_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(94778);\n/* harmony import */ var _deployments_42161_HegicStrategySTRAP_BTC_json__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(6939);\n/* harmony import */ var _deployments_42161_HegicStrategySPREAD_CALL_110_ETH_json__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(12790);\n/* harmony import */ var _deployments_42161_HegicStrategySPREAD_CALL_110_BTC_json__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(11187);\n/* harmony import */ var _deployments_42161_HegicStrategySPREAD_CALL_120_ETH_json__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(42373);\n/* harmony import */ var _deployments_42161_HegicStrategySPREAD_CALL_120_BTC_json__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(49055);\n/* harmony import */ var _deployments_42161_HegicStrategySPREAD_CALL_130_ETH_json__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(60579);\n/* harmony import */ var _deployments_42161_HegicStrategySPREAD_CALL_130_BTC_json__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(27175);\n/* harmony import */ var _deployments_42161_HegicStrategySPREAD_PUT_90_ETH_json__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(6327);\n/* harmony import */ var _deployments_42161_HegicStrategySPREAD_PUT_90_BTC_json__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(29487);\n/* harmony import */ var _deployments_42161_HegicStrategySPREAD_PUT_80_ETH_json__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(16219);\n/* harmony import */ var _deployments_42161_HegicStrategySPREAD_PUT_80_BTC_json__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(31332);\n/* harmony import */ var _deployments_42161_HegicStrategySPREAD_PUT_70_ETH_json__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(33579);\n/* harmony import */ var _deployments_42161_HegicStrategySPREAD_PUT_70_BTC_json__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(94233);\n/* harmony import */ var _deployments_42161_HegicStrategySTRANGLE_10_ETH_json__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(95734);\n/* harmony import */ var _deployments_42161_HegicStrategySTRANGLE_10_BTC_json__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(89493);\n/* harmony import */ var _deployments_42161_HegicStrategySTRANGLE_20_ETH_json__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(87160);\n/* harmony import */ var _deployments_42161_HegicStrategySTRANGLE_20_BTC_json__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(3234);\n/* harmony import */ var _deployments_42161_HegicStrategySTRANGLE_30_ETH_json__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(94838);\n/* harmony import */ var _deployments_42161_HegicStrategySTRANGLE_30_BTC_json__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(21757);\n/* provided dependency */ var console = __webpack_require__(25108);\n// import {ethers, BigNumberish, ContractTransaction, providers} from "ethers"\n\n\n\n//\n// import * as artifact_STRADDLE_ETH_v0 from "../../deployments/42161/HegicStrategyStraddleETH_v0.json"\n// import * as artifact_STRADDLE_BTC_v0 from "../../deployments/42161/HegicStrategyStraddleBTC_v0.json"\n// import * as artifact_SPREAD_CALL_BTC_10_BROKEN from "../../deployments/42161/HegicStrategySPREAD_CALL_110_BTC_BROKEN.json"\n// import * as artifact_STRIP_ETH_v0 from "../../deployments/42161/HegicStrategyStripETH_v0.json"\n// import * as artifact_STRIP_BTC_v0 from "../../deployments/42161/HegicStrategyStrapBTC_v0.json"\n// import * as artifact_STRAP_ETH_v0 from "../../deployments/42161/HegicStrategyStrapETH_v0.json"\n// import * as artifact_STRAP_BTC_v0 from "../../deployments/42161/HegicStrategyStrapBTC_v0.json"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import {utils} from "ethers"\nconst router = (__webpack_require__(46993)/* ["default"] */ .Z);\n// const logger = ethers.utils.Logger.globalLogger()\nconst strategyController = {\n    namespaced: true,\n    state() {\n        return {\n            contracts: null,\n            allowance: {},\n        };\n    },\n    mutations: {\n        setContracts(state, contracts) {\n            state.contracts = contracts;\n        },\n        setAllowance(state, { strategy, token, value, }) {\n            if (!state.allowance[strategy]) {\n                state.allowance[strategy] = { USDC: null };\n            }\n            state.allowance[strategy][token] = value;\n        },\n    },\n    actions: {\n        async init({ commit, rootGetters }) {\n            if (rootGetters["connection/state"] != "connected")\n                return;\n            const provider = rootGetters["connection/provider"];\n            // const contracts = rootGetters["connection/contracts"] as Contracts\n            // const address = rootState.connection.address\n            // TODO\n            // const STRADDLE_ETH_v0 = markRaw(\n            //   new ethers.Contract(\n            //     artifact_STRADDLE_ETH_v0.address,\n            //     artifact_STRADDLE_ETH_v0.abi,\n            //     provider,\n            //   ),\n            // )\n            // const STRADDLE_BTC_v0 = markRaw(\n            //   new ethers.Contract(\n            //     artifact_STRADDLE_BTC_v0.address,\n            //     artifact_STRADDLE_BTC_v0.abi,\n            //     provider,\n            //   ),\n            // )\n            // const STRIP_ETH_v0 = markRaw(\n            //   new ethers.Contract(\n            //     artifact_STRIP_ETH_v0.address,\n            //     artifact_STRIP_ETH_v0.abi,\n            //     provider,\n            //   ),\n            // )\n            // const STRIP_BTC_v0 = markRaw(\n            //   new ethers.Contract(\n            //     artifact_STRIP_BTC_v0.address,\n            //     artifact_STRIP_BTC_v0.abi,\n            //     provider,\n            //   ),\n            // )\n            // const STRAP_ETH_v0 = markRaw(\n            //   new ethers.Contract(\n            //     artifact_STRAP_ETH_v0.address,\n            //     artifact_STRAP_ETH_v0.abi,\n            //     provider,\n            //   ),\n            // )\n            // const STRAP_BTC_v0 = markRaw(\n            //   new ethers.Contract(\n            //     artifact_STRAP_BTC_v0.address,\n            //     artifact_STRAP_BTC_v0.abi,\n            //     provider,\n            //   ),\n            // )\n            // const BROKEN_SPREAD_CALL_BTC_10 = markRaw(\n            //   new ethers.Contract(\n            //     artifact_SPREAD_CALL_BTC_10_BROKEN.address,\n            //     artifact_SPREAD_CALL_BTC_10_BROKEN.abi,\n            //     provider,\n            //   ),\n            // )\n            const STRADDLE_ETH = (0,vue__WEBPACK_IMPORTED_MODULE_25__/* .markRaw */ .Xl)(new ethers__WEBPACK_IMPORTED_MODULE_26__/* .Contract */ .CH(_deployments_42161_HegicStrategySTRADDLE_ETH_json__WEBPACK_IMPORTED_MODULE_1__.address, _deployments_42161_HegicStrategySTRADDLE_ETH_json__WEBPACK_IMPORTED_MODULE_1__.abi, provider));\n            const STRADDLE_BTC = (0,vue__WEBPACK_IMPORTED_MODULE_25__/* .markRaw */ .Xl)(new ethers__WEBPACK_IMPORTED_MODULE_26__/* .Contract */ .CH(_deployments_42161_HegicStrategySTRADDLE_BTC_json__WEBPACK_IMPORTED_MODULE_2__.address, _deployments_42161_HegicStrategySTRADDLE_BTC_json__WEBPACK_IMPORTED_MODULE_2__.abi, provider));\n            const STRIP_ETH = (0,vue__WEBPACK_IMPORTED_MODULE_25__/* .markRaw */ .Xl)(new ethers__WEBPACK_IMPORTED_MODULE_26__/* .Contract */ .CH(_deployments_42161_HegicStrategySTRIP_ETH_json__WEBPACK_IMPORTED_MODULE_3__.address, _deployments_42161_HegicStrategySTRIP_ETH_json__WEBPACK_IMPORTED_MODULE_3__.abi, provider));\n            const STRIP_BTC = (0,vue__WEBPACK_IMPORTED_MODULE_25__/* .markRaw */ .Xl)(new ethers__WEBPACK_IMPORTED_MODULE_26__/* .Contract */ .CH(_deployments_42161_HegicStrategySTRIP_BTC_json__WEBPACK_IMPORTED_MODULE_4__.address, _deployments_42161_HegicStrategySTRIP_BTC_json__WEBPACK_IMPORTED_MODULE_4__.abi, provider));\n            const STRAP_ETH = (0,vue__WEBPACK_IMPORTED_MODULE_25__/* .markRaw */ .Xl)(new ethers__WEBPACK_IMPORTED_MODULE_26__/* .Contract */ .CH(_deployments_42161_HegicStrategySTRAP_ETH_json__WEBPACK_IMPORTED_MODULE_5__.address, _deployments_42161_HegicStrategySTRAP_ETH_json__WEBPACK_IMPORTED_MODULE_5__.abi, provider));\n            const STRAP_BTC = (0,vue__WEBPACK_IMPORTED_MODULE_25__/* .markRaw */ .Xl)(new ethers__WEBPACK_IMPORTED_MODULE_26__/* .Contract */ .CH(_deployments_42161_HegicStrategySTRAP_BTC_json__WEBPACK_IMPORTED_MODULE_6__.address, _deployments_42161_HegicStrategySTRAP_BTC_json__WEBPACK_IMPORTED_MODULE_6__.abi, provider));\n            const USDC = (0,vue__WEBPACK_IMPORTED_MODULE_25__/* .markRaw */ .Xl)(new ethers__WEBPACK_IMPORTED_MODULE_26__/* .Contract */ .CH(_deployments_42161_USDC_json__WEBPACK_IMPORTED_MODULE_0__.address, _deployments_42161_USDC_json__WEBPACK_IMPORTED_MODULE_0__.abi, provider));\n            const SPREAD_CALL_ETH_10 = (0,vue__WEBPACK_IMPORTED_MODULE_25__/* .markRaw */ .Xl)(new ethers__WEBPACK_IMPORTED_MODULE_26__/* .Contract */ .CH(_deployments_42161_HegicStrategySPREAD_CALL_110_ETH_json__WEBPACK_IMPORTED_MODULE_7__.address, _deployments_42161_HegicStrategySPREAD_CALL_110_ETH_json__WEBPACK_IMPORTED_MODULE_7__.abi, provider));\n            const SPREAD_CALL_BTC_10 = (0,vue__WEBPACK_IMPORTED_MODULE_25__/* .markRaw */ .Xl)(new ethers__WEBPACK_IMPORTED_MODULE_26__/* .Contract */ .CH(_deployments_42161_HegicStrategySPREAD_CALL_110_BTC_json__WEBPACK_IMPORTED_MODULE_8__.address, _deployments_42161_HegicStrategySPREAD_CALL_110_BTC_json__WEBPACK_IMPORTED_MODULE_8__.abi, provider));\n            const SPREAD_CALL_ETH_20 = (0,vue__WEBPACK_IMPORTED_MODULE_25__/* .markRaw */ .Xl)(new ethers__WEBPACK_IMPORTED_MODULE_26__/* .Contract */ .CH(_deployments_42161_HegicStrategySPREAD_CALL_120_ETH_json__WEBPACK_IMPORTED_MODULE_9__.address, _deployments_42161_HegicStrategySPREAD_CALL_120_ETH_json__WEBPACK_IMPORTED_MODULE_9__.abi, provider));\n            const SPREAD_CALL_BTC_20 = (0,vue__WEBPACK_IMPORTED_MODULE_25__/* .markRaw */ .Xl)(new ethers__WEBPACK_IMPORTED_MODULE_26__/* .Contract */ .CH(_deployments_42161_HegicStrategySPREAD_CALL_120_BTC_json__WEBPACK_IMPORTED_MODULE_10__.address, _deployments_42161_HegicStrategySPREAD_CALL_120_BTC_json__WEBPACK_IMPORTED_MODULE_10__.abi, provider));\n            const SPREAD_CALL_ETH_30 = (0,vue__WEBPACK_IMPORTED_MODULE_25__/* .markRaw */ .Xl)(new ethers__WEBPACK_IMPORTED_MODULE_26__/* .Contract */ .CH(_deployments_42161_HegicStrategySPREAD_CALL_130_ETH_json__WEBPACK_IMPORTED_MODULE_11__.address, _deployments_42161_HegicStrategySPREAD_CALL_130_ETH_json__WEBPACK_IMPORTED_MODULE_11__.abi, provider));\n            const SPREAD_CALL_BTC_30 = (0,vue__WEBPACK_IMPORTED_MODULE_25__/* .markRaw */ .Xl)(new ethers__WEBPACK_IMPORTED_MODULE_26__/* .Contract */ .CH(_deployments_42161_HegicStrategySPREAD_CALL_130_BTC_json__WEBPACK_IMPORTED_MODULE_12__.address, _deployments_42161_HegicStrategySPREAD_CALL_130_BTC_json__WEBPACK_IMPORTED_MODULE_12__.abi, provider));\n            const SPREAD_PUT_ETH_10 = (0,vue__WEBPACK_IMPORTED_MODULE_25__/* .markRaw */ .Xl)(new ethers__WEBPACK_IMPORTED_MODULE_26__/* .Contract */ .CH(_deployments_42161_HegicStrategySPREAD_PUT_90_ETH_json__WEBPACK_IMPORTED_MODULE_13__.address, _deployments_42161_HegicStrategySPREAD_PUT_90_ETH_json__WEBPACK_IMPORTED_MODULE_13__.abi, provider));\n            const SPREAD_PUT_BTC_10 = (0,vue__WEBPACK_IMPORTED_MODULE_25__/* .markRaw */ .Xl)(new ethers__WEBPACK_IMPORTED_MODULE_26__/* .Contract */ .CH(_deployments_42161_HegicStrategySPREAD_PUT_90_BTC_json__WEBPACK_IMPORTED_MODULE_14__.address, _deployments_42161_HegicStrategySPREAD_PUT_90_BTC_json__WEBPACK_IMPORTED_MODULE_14__.abi, provider));\n            const SPREAD_PUT_ETH_20 = (0,vue__WEBPACK_IMPORTED_MODULE_25__/* .markRaw */ .Xl)(new ethers__WEBPACK_IMPORTED_MODULE_26__/* .Contract */ .CH(_deployments_42161_HegicStrategySPREAD_PUT_80_ETH_json__WEBPACK_IMPORTED_MODULE_15__.address, _deployments_42161_HegicStrategySPREAD_PUT_80_ETH_json__WEBPACK_IMPORTED_MODULE_15__.abi, provider));\n            const SPREAD_PUT_BTC_20 = (0,vue__WEBPACK_IMPORTED_MODULE_25__/* .markRaw */ .Xl)(new ethers__WEBPACK_IMPORTED_MODULE_26__/* .Contract */ .CH(_deployments_42161_HegicStrategySPREAD_PUT_80_BTC_json__WEBPACK_IMPORTED_MODULE_16__.address, _deployments_42161_HegicStrategySPREAD_PUT_80_BTC_json__WEBPACK_IMPORTED_MODULE_16__.abi, provider));\n            const SPREAD_PUT_ETH_30 = (0,vue__WEBPACK_IMPORTED_MODULE_25__/* .markRaw */ .Xl)(new ethers__WEBPACK_IMPORTED_MODULE_26__/* .Contract */ .CH(_deployments_42161_HegicStrategySPREAD_PUT_70_ETH_json__WEBPACK_IMPORTED_MODULE_17__.address, _deployments_42161_HegicStrategySPREAD_PUT_70_ETH_json__WEBPACK_IMPORTED_MODULE_17__.abi, provider));\n            const SPREAD_PUT_BTC_30 = (0,vue__WEBPACK_IMPORTED_MODULE_25__/* .markRaw */ .Xl)(new ethers__WEBPACK_IMPORTED_MODULE_26__/* .Contract */ .CH(_deployments_42161_HegicStrategySPREAD_PUT_70_BTC_json__WEBPACK_IMPORTED_MODULE_18__.address, _deployments_42161_HegicStrategySPREAD_PUT_70_BTC_json__WEBPACK_IMPORTED_MODULE_18__.abi, provider));\n            const STRANGLE_ETH_10 = (0,vue__WEBPACK_IMPORTED_MODULE_25__/* .markRaw */ .Xl)(new ethers__WEBPACK_IMPORTED_MODULE_26__/* .Contract */ .CH(_deployments_42161_HegicStrategySTRANGLE_10_ETH_json__WEBPACK_IMPORTED_MODULE_19__.address, _deployments_42161_HegicStrategySTRANGLE_10_ETH_json__WEBPACK_IMPORTED_MODULE_19__.abi, provider));\n            const STRANGLE_BTC_10 = (0,vue__WEBPACK_IMPORTED_MODULE_25__/* .markRaw */ .Xl)(new ethers__WEBPACK_IMPORTED_MODULE_26__/* .Contract */ .CH(_deployments_42161_HegicStrategySTRANGLE_10_BTC_json__WEBPACK_IMPORTED_MODULE_20__.address, _deployments_42161_HegicStrategySTRANGLE_10_BTC_json__WEBPACK_IMPORTED_MODULE_20__.abi, provider));\n            const STRANGLE_ETH_20 = (0,vue__WEBPACK_IMPORTED_MODULE_25__/* .markRaw */ .Xl)(new ethers__WEBPACK_IMPORTED_MODULE_26__/* .Contract */ .CH(_deployments_42161_HegicStrategySTRANGLE_20_ETH_json__WEBPACK_IMPORTED_MODULE_21__.address, _deployments_42161_HegicStrategySTRANGLE_20_ETH_json__WEBPACK_IMPORTED_MODULE_21__.abi, provider));\n            const STRANGLE_BTC_20 = (0,vue__WEBPACK_IMPORTED_MODULE_25__/* .markRaw */ .Xl)(new ethers__WEBPACK_IMPORTED_MODULE_26__/* .Contract */ .CH(_deployments_42161_HegicStrategySTRANGLE_20_BTC_json__WEBPACK_IMPORTED_MODULE_22__.address, _deployments_42161_HegicStrategySTRANGLE_20_BTC_json__WEBPACK_IMPORTED_MODULE_22__.abi, provider));\n            const STRANGLE_ETH_30 = (0,vue__WEBPACK_IMPORTED_MODULE_25__/* .markRaw */ .Xl)(new ethers__WEBPACK_IMPORTED_MODULE_26__/* .Contract */ .CH(_deployments_42161_HegicStrategySTRANGLE_30_ETH_json__WEBPACK_IMPORTED_MODULE_23__.address, _deployments_42161_HegicStrategySTRANGLE_30_ETH_json__WEBPACK_IMPORTED_MODULE_23__.abi, provider));\n            const STRANGLE_BTC_30 = (0,vue__WEBPACK_IMPORTED_MODULE_25__/* .markRaw */ .Xl)(new ethers__WEBPACK_IMPORTED_MODULE_26__/* .Contract */ .CH(_deployments_42161_HegicStrategySTRANGLE_30_BTC_json__WEBPACK_IMPORTED_MODULE_24__.address, _deployments_42161_HegicStrategySTRANGLE_30_BTC_json__WEBPACK_IMPORTED_MODULE_24__.abi, provider));\n            commit("setContracts", {\n                // STRADDLE_ETH_v0,\n                // STRADDLE_BTC_v0,\n                // STRIP_ETH_v0,\n                // STRIP_BTC_v0,\n                // STRAP_ETH_v0,\n                // STRAP_BTC_v0,\n                //\n                // BROKEN_SPREAD_CALL_BTC_10,\n                STRADDLE_ETH,\n                STRADDLE_BTC,\n                STRIP_ETH,\n                STRIP_BTC,\n                STRAP_ETH,\n                STRAP_BTC,\n                SPREAD_CALL_ETH_10,\n                SPREAD_CALL_BTC_10,\n                SPREAD_CALL_ETH_20,\n                SPREAD_CALL_BTC_20,\n                SPREAD_CALL_ETH_30,\n                SPREAD_CALL_BTC_30,\n                SPREAD_PUT_ETH_10,\n                SPREAD_PUT_BTC_10,\n                SPREAD_PUT_ETH_20,\n                SPREAD_PUT_BTC_20,\n                SPREAD_PUT_ETH_30,\n                SPREAD_PUT_BTC_30,\n                STRANGLE_ETH_10,\n                STRANGLE_BTC_10,\n                STRANGLE_ETH_20,\n                STRANGLE_BTC_20,\n                STRANGLE_ETH_30,\n                STRANGLE_BTC_30,\n                USDC,\n            });\n            // const thisContracts = {\n            //   STRADDLE_ETH,\n            //   STRADDLE_BTC,\n            //   STRIP_ETH,\n            //   STRIP_BTC,\n            //   STRAP_ETH,\n            //   STRAP_BTC,\n            //\n            //   SPREAD_CALL_ETH_10,\n            //   SPREAD_CALL_BTC_10,\n            //   SPREAD_CALL_ETH_20,\n            //   SPREAD_CALL_BTC_20,\n            //   SPREAD_CALL_ETH_30,\n            //   SPREAD_CALL_BTC_30,\n            //   SPREAD_PUT_ETH_10,\n            //   SPREAD_PUT_BTC_10,\n            //   SPREAD_PUT_ETH_20,\n            //   SPREAD_PUT_BTC_20,\n            //   SPREAD_PUT_ETH_30,\n            //   SPREAD_PUT_BTC_30,\n            //   STRANGLE_ETH_10,\n            //   STRANGLE_BTC_10,\n            //   STRANGLE_ETH_20,\n            //   STRANGLE_BTC_20,\n            //   STRANGLE_ETH_30,\n            //   STRANGLE_BTC_30,\n            //\n            //   USDC,\n            // }\n            // logger.debug("strategyController", thisContracts)\n            // Object.keys(thisContracts).map((strategy) => {\n            //   USDC.allowance(\n            //     address,\n            //     thisContracts[strategy as keyof typeof thisContracts].address,\n            //   ).then((value) =>\n            //     commit("setAllowance", {strategy, token: "USDC", value}),\n            //   )\n            // })\n        },\n        async getOptionCost({ state, rootState, commit, dispatch }, { strategy, period, amount }) {\n            // return {total: BigNumber.from(20e6)}\n            if (!amount || amount.isZero())\n                return ethers__WEBPACK_IMPORTED_MODULE_27__/* .Zero */ ._Y;\n            function getStrikeFor(strategy) {\n                if (strategy.match(/STRANGLE/)) {\n                    const currency = "W" + strategy.match(/BTC|ETH/)[0];\n                    const price = rootState.prices[currency];\n                    return price;\n                }\n                if (strategy.slice(0, 3) != "OTM")\n                    return ethers__WEBPACK_IMPORTED_MODULE_27__/* .Zero */ ._Y;\n                const currency = "W" + strategy.match(/BTC|ETH/)[0];\n                const price = rootState.prices[currency];\n                const diff = parseInt(strategy.match(/[123]0/)[0]);\n                if (strategy.slice(0, 8) == "OTM_CALL") {\n                    return price.add(price.mul(diff).div(100));\n                }\n                if (strategy.slice(0, 7) == "OTM_PUT") {\n                    return price.sub(price.mul(diff).div(100));\n                }\n            }\n            if (rootState.connection.contractLoader) {\n                const { contractLoader, address } = rootState.connection;\n                const contract = await contractLoader[strategy]();\n                if (!state.allowance[strategy])\n                    contractLoader\n                        .USDC()\n                        .then((x) => x.allowance(address, contract.address))\n                        .then((value) => commit("setAllowance", { strategy, token: "USDC", value }));\n                console.log("AAAAAAAAA", getStrikeFor(strategy));\n                const runCalculating = () => contract.calculatePremium(period * 24 * 3600, amount, getStrikeFor(strategy));\n                const { premium, available } = await runCalculating().catch(async () => {\n                    await dispatch("prices/updatePrice", {}, { root: true });\n                    return runCalculating();\n                });\n                return { premium, available };\n            }\n            return {};\n        },\n        async approve({ dispatch, commit, rootState }, { token, strategy }) {\n            const USDC = await rootState.connection.contractLoader.USDC();\n            const contract = await rootState.connection.contractLoader[strategy]();\n            const tx = USDC.approve(contract.address, ethers__WEBPACK_IMPORTED_MODULE_27__/* .MaxUint256 */ .Bz);\n            await dispatch("tfController/start", { tx }, { root: true });\n            commit("setAllowance", {\n                strategy,\n                token,\n                value: ethers__WEBPACK_IMPORTED_MODULE_27__/* .MaxUint256 */ .Bz,\n            });\n        },\n        async buy({ dispatch, rootState }, { strategy, period, amount }) {\n            async function getStrikeFor(strategy) {\n                if (strategy.match(/STRANGLE/)) {\n                    const currency = "W" + strategy.match(/BTC|ETH/)[0];\n                    await dispatch("pricers/updatePrice", {}, { root: true });\n                    const price = rootState.prices[currency];\n                    return price;\n                }\n                if (strategy.slice(0, 3) != "OTM")\n                    return ethers__WEBPACK_IMPORTED_MODULE_27__/* .Zero */ ._Y;\n                await dispatch("pricers/updatePrice", {}, { root: true });\n                const currency = "W" + strategy.match(/BTC|ETH/)[0];\n                const price = rootState.prices[currency];\n                const diff = parseInt(strategy.match(/[123]0/)[0]);\n                if (strategy.slice(0, 8) == "OTM_CALL") {\n                    return price.add(price.mul(diff).div(100));\n                }\n                if (strategy.slice(0, 7) == "OTM_PUT") {\n                    return price.sub(price.mul(diff).div(100));\n                }\n                return ethers__WEBPACK_IMPORTED_MODULE_27__/* .Zero */ ._Y;\n            }\n            const address = rootState.connection.address;\n            // const strategyContract = state.contracts![strategy]\n            const strategyContract = (await rootState.connection.contractLoader[strategy]());\n            // strategyContract.b\n            const tx = strategyContract.buy(address, period * 24 * 3600, amount, await getStrikeFor(strategy));\n            await dispatch("tfController/start", { tx, particles: "confetti" }, { root: true });\n            const { events, blockNumber } = await tx.then((x) => x.wait());\n            const tokenId = events.find((x) => x.event?.match(/Acquired/)).args.id;\n            if (rootState.historyController)\n                await dispatch("historyController/appendStratagy", { tokenId, blockNumber }, { root: true });\n            router.push({ path: "/arbitrum/options/my-options" });\n        },\n    },\n    getters: {},\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (strategyController);\n\n\n//# sourceURL=webpack://hedge/./src/store/modules/strategyController.ts?')},39137:module=>{eval('module.exports = JSON.parse(\'{"address":"0xff970a61a04b1ca14834a43f5de4533ebddb5cc8","abi":[{"inputs":[{"internalType":"string","name":"name_","type":"string"},{"internalType":"string","name":"symbol_","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]}\');\n\n//# sourceURL=webpack://hedge/./src/deployments/arbitrum/USDC.json?')}}]);